(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{239:function(e,t,r){var content=r(243);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(34).default)("4fc6f3a7",content,!0,{sourceMap:!1})},242:function(e,t,r){"use strict";r(239)},243:function(e,t,r){(t=r(33)(!1)).push([e.i,".multiselect__tags{--tw-bg-opacity:1;background-color:rgba(229,231,235,var(--tw-bg-opacity))}.dark .multiselect__tags{--tw-bg-opacity:1;background-color:rgba(75,85,99,var(--tw-bg-opacity))}.multiselect__tags{border-radius:0;border-style:none}",""]),e.exports=t},249:function(e,t,r){"use strict";r.r(t);r(32),r(106),r(165),r(12),r(69),r(27);var n=r(6),o={data:function(){return{ingredients:[],title:"",people:0,instructies:[],options:["g","kg","L","mL","tsp","tbsp"],errors:{},file:null,filepath:"",source:"",tags:[],tags_available:[]}},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params,n=r.id,t.abrupt("return",{recipe_id:n});case 3:case"end":return t.stop()}}),t)})))()},fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("http://192.168.2.252:3333/api/recipes/"+e.recipe_id).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:return data=t.sent,"http://192.168.2.252:3333/api/tags",t.next=6,fetch("http://192.168.2.252:3333/api/tags").then((function(e){return e.json()}));case 6:e.tags_available=t.sent,e.ingredients=data.ingredient,e.title=data.title,e.instructies=data.instruction,e.people=data.people,e.source=data.source,e.filepath=data.filepath,e.tags=data.tags;case 14:case"end":return t.stop()}}),t)})))()})),methods:{addIngredient:function(){var e=this;this.ingredients.push({name:"",qnty:"",unit:""}),this.$nextTick((function(){return e.$refs.ingredient_qnty.slice(-1)[0].focus()}))},removeIngredient:function(e){this.ingredients.splice(e,1)},addStap:function(){var e=this;this.instructies.push({beschrijving:""}),this.$nextTick((function(){return e.$refs.instruction.slice(-1)[0].focus()}))},removeStap:function(e){this.instructies.splice(e,1)},handleFile:function(e){this.file=e.target.files[0]},uploadImage:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("image",e.file),t.abrupt("return",e.$axios.post("http://192.168.2.252:3333/api/recipes/upload-image",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data})).catch((function(t){e.errors=t.response.data})));case 3:case"end":return t.stop()}}),t)})))()},addRecipe:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Filepath = ",e.filepath),void 0===e.file||null===e.file){t.next=5;break}return t.next=4,e.uploadImage();case 4:e.filepath=t.sent;case 5:r=e,n=e.tags.map((function(e){return e.id})),e.$axios.put("http://192.168.2.252:3333/api/recipes/"+e.recipe_id,{ingredients:e.ingredients,title:e.title,people:e.people,instructies:e.instructies,imagepath:e.filepath,source:e.source,tag:n}).then((function(e){r.$router.push("/recipes")})).catch((function(t){console.log("ERROR: ",t.response.data),e.errors=t.response.data}));case 8:case"end":return t.stop()}}),t)})))()}}},c=(r(242),r(31)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("h1",{staticClass:"text-xl font-sans mb-3 text-gray-900"},[e._v("Add a recipe")]),e._v(" "),0!==Object.keys(e.errors).length?r("div",{staticClass:"bg-red-300 border-red-800 border-2 p-2 align-center flex justify-between rounded"},[r("ul",e._l(e.errors,(function(t,n){return r("li",{key:n},[e._v(e._s(t[0]))])})),0),e._v(" "),r("button",{staticClass:"hover:text-red-800 focus:outline-none",on:{click:function(t){e.errors={}}}},[r("fa-layers",{},[r("fa",{attrs:{icon:"times"}})],1)],1)]):e._e(),e._v(" "),r("div",{staticClass:"mb-6"},[r("div",{staticClass:"flex"},[r("div",{staticClass:"flex-grow mr-5"},[r("label",{staticClass:"text-sm text-gray-600 dark:text-gray-300 font-sans",attrs:{for:"title"}},[e._v("titel")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"bg-gray-200 dark:bg-gray-600 focus:outline-none p-1 border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out w-full",attrs:{type:"text",id:"title",name:"title",placeholder:"titel",required:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"w-1/6 flex-none"},[r("label",{staticClass:"text-sm text-gray-600 dark:text-gray-300 font-sans",attrs:{for:"people"}},[e._v("aantal")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.people,expression:"people",modifiers:{number:!0}}],staticClass:"bg-gray-200 dark:bg-gray-600 focus:outline-none p-1 border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out w-full",attrs:{type:"number",name:"people"},domProps:{value:e.people},on:{input:function(t){t.target.composing||(e.people=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])]),e._v(" "),r("div",{staticClass:"mb-6"},[r("label",{staticClass:"text-sm text-gray-600 dark:text-gray-300 font-sans block",attrs:{for:"image"}},[e._v("afbeelding")]),e._v(" "),r("input",{staticClass:"bg-gray-200 dark:bg-gray-600 border-b-2 border-red-300 focus:border-red-500 focus:outline-none",attrs:{type:"file",accept:"image/*;capture=camera",name:"image",id:"image"},on:{change:e.handleFile}})]),e._v(" "),r("div",{staticClass:"mb-6"},[r("label",{staticClass:"text-sm text-gray-600 dark:text-gray-300 font-sans",attrs:{for:"ingredients"}},[e._v("ingredienten")]),e._v(" "),e._l(e.ingredients,(function(t,n){return r("div",{key:n},[r("div",{staticClass:"w-full flex"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"ingredient.quantity",modifiers:{number:!0}}],ref:"ingredient_qnty",refInFor:!0,staticClass:"bg-gray-200 dark:bg-gray-600 focus:outline-none p-1 mr-3 border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out w-12 flex-none",attrs:{type:"number",min:"0",placeholder:"hoeveelheid"},domProps:{value:t.quantity},on:{input:function(r){r.target.composing||e.$set(t,"quantity",e._n(r.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"ingredient.unit"}],staticClass:"bg-gray-200 dark:bg-gray-600 focus:outline-none p-1 mr-3 border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out w-14 flex-none",on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"unit",r.target.multiple?n:n[0])}}},[r("option",{attrs:{value:""}}),e._v(" "),e._l(e.options,(function(option,t){return r("option",{key:t,domProps:{value:option}},[e._v("\n               "+e._s(option)+"\n             ")])}))],2),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.ingredient,expression:"ingredient.ingredient"}],key:n,staticClass:"bg-gray-200 dark:bg-gray-600 focus:outline-none p-1 border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out flex-grow",attrs:{type:"text",placeholder:"ingredient"},domProps:{value:t.ingredient},on:{input:function(r){r.target.composing||e.$set(t,"ingredient",r.target.value)}}}),e._v(" "),r("button",{staticClass:"pl-3 hover:text-red-500 focus:outline-none",on:{click:function(t){return e.removeIngredient(n)}}},[r("fa",{attrs:{icon:"trash"}})],1)])])})),e._v(" "),r("button",{staticClass:"block mt-3 bg-gray-200 dark:bg-gray-600 p-2 pl-3 pr-3 focus:outline-none hover:bg-red-500 transition duration-300 ease-in-out",on:{click:e.addIngredient}},[e._v("\n         Ingredient Toevoegen\n       ")])],2),e._v(" "),r("div",{staticClass:"mb-6"},[r("label",{staticClass:"text-sm text-gray-600 dark:text-gray-300 font-sans",attrs:{for:"instructies"}},[e._v("instructies")]),e._v(" "),e._l(e.instructies,(function(t,n){return r("div",{key:n,staticClass:"mb-2"},[r("div",{staticClass:"flex items-center pb-2"},[r("h2",{staticClass:"text-l"},[e._v("Stap "+e._s(n+1))]),e._v(" "),r("button",{staticClass:"w-10 hover:text-red-500 focus:outline-none",on:{click:function(t){return e.removeStap(n)}}},[r("fa-layers",{staticClass:"fa-xs"},[r("fa",{attrs:{icon:"trash"}})],1)],1)]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.instruction,expression:"stap.instruction"}],key:n,ref:"instruction",refInFor:!0,staticClass:"bg-gray-200 dark:bg-gray-600 focus:outline-none p-1 border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out w-full",attrs:{type:"text",placeholder:"Instructie"},domProps:{value:t.instruction},on:{input:function(r){r.target.composing||e.$set(t,"instruction",r.target.value)}}})])})),e._v(" "),r("button",{staticClass:"block mt-3 bg-gray-200 dark:bg-gray-600 p-2 pl-3 pr-3 focus:outline-none hover:bg-red-500 transition duration-300 ease-in-out",on:{click:e.addStap}},[e._v("\n         Stap toevoegen\n       ")])],2),e._v(" "),r("div",{staticClass:"mb-6"},[r("label",{staticClass:"text-sm text-gray-600 dark:text-gray-300 font-sans",attrs:{for:"source"}},[e._v("bron")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.source,expression:"source"}],staticClass:"bg-gray-200 dark:bg-gray-600 focus:outline-none p-1 border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out w-full",attrs:{type:"text",id:"source",name:"source",placeholder:"bron (website/kookboek)"},domProps:{value:e.source},on:{input:function(t){t.target.composing||(e.source=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"mb-6"},[r("multiselect",{staticClass:"bg-white focus:outline-none border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out w-full",attrs:{options:e.tags_available,searchable:!1,"track-by":"id",label:"name",multiple:!0,placeholder:"Kies een tag"},model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}})],1),e._v(" "),r("button",{staticClass:"bg-gray-200 dark:bg-gray-600 p-2 px-3 focus:outline-none hover:bg-red-500 transition duration-300 ease-in-out",on:{click:e.addRecipe}},[e._v("\n       Sla op\n     ")])])])}),[],!1,null,null,null);t.default=component.exports}}]);