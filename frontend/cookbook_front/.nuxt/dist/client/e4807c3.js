(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{630:function(t,e,r){"use strict";r.r(e);r(27);var n=r(6),o=r(368),c={data:function(){return{recipe_data:{},people:null}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,n=r.id,e.abrupt("return",{recipe_id:n});case 3:case"end":return e.stop()}}),e)})))()},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("http://192.168.2.252:3333/api/recipes/"+t.recipe_id).then((function(t){return t.data})).catch((function(t){return console.log(t)}));case 2:t.recipe_data=e.sent,t.people=t.recipe_data.people;case 4:case"end":return e.stop()}}),e)})))()},computed:{serverUrl:function(){return"192.168.2.252:3333"}},methods:{createPDF:function(){var t=new o.a,e=30;t.setFont("helvetica"),t.setFontSize(36),t.text(this.recipe_data.title,20,e),e+=6,t.setFontSize(16),t.setTextColor(110,110,110),t.text(String(this.recipe_data.people)+" personen",20,e);var r=e+=30;t.setFontSize(18),t.setTextColor(232,23,82),t.text("Ingredienten",20,e),e+=8,t.setFontSize(10);var n=t.getLineHeight("Some text")/t.internal.scaleFactor;t.setTextColor(50,50,50);for(var i=0;i<this.recipe_data.ingredient.length;i++){var c=this.recipe_data.ingredient[i],l="";null!==c.quantity&&(l+=c.quantity+" "),null!==c.unit&&(l+=c.unit+" "),l+=c.ingredient;var d=t.splitTextToSize(l,50),v=(d.length,d.length*n);t.text(d,20,e),e+=v}e=r,t.setFontSize(18),t.setTextColor(232,23,82),t.text("Beschrijving",90,e),e+=8,t.setFontSize(10),t.setTextColor(50,50,50);for(var _=0;_<this.recipe_data.instruction.length;_++){var f=this.recipe_data.instruction[_];t.setFontSize(18),t.setTextColor(232,23,82),t.text(String(_+1),87,e+3,"right"),t.setFontSize(10),t.setTextColor(50,50,50);var m=t.splitTextToSize(f.instruction,110);t.text(m,90,e),e+=m.length*n+6}t.save("Recept "+this.recipe_data.title+".pdf")}}},l=r(32),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.$fetchState.pending?r("p"):t.$fetchState.error?r("p",[t._v("Error tijdens het laden van de recepten")]):r("div",[r("div",{staticClass:"bg-red-500 rounded-lg h-48"},[null!==t.recipe_data.image?r("img",{staticClass:"w-full h-48 object-cover rounded-lg opacity-100",attrs:{src:"http://"+t.serverUrl+"/"+t.recipe_data.image,alt:""}}):t._e()]),t._v(" "),r("div",{staticClass:"py-2 mb-1"},[r("div",{staticClass:"flex items-center"},[r("p",{staticClass:"text-2xl inline-block"},[t._v(t._s(t.recipe_data.title))]),t._v(" "),r("nuxt-link",{staticClass:" hover:text-red-500 focus:outline-none  mt-1 ml-4",attrs:{to:"/recipes/"+t.recipe_id+"/edit"}},[r("fa-layers",{staticClass:"fa inline-block"},[r("fa",{attrs:{icon:"pen"}})],1)],1),t._v(" "),r("button",{staticClass:"mt-1 ml-4",on:{click:t.createPDF}},[r("fa",{attrs:{icon:"save"}})],1)],1),t._v(" "),t.recipe_data.source?r("p",{staticClass:"text-sm text-gray-600 dark:text-gray-300"},[t._v("\n        bron: "+t._s(t.recipe_data.source)+"\n      ")]):t._e(),t._v(" "),r("div",{staticClass:"flex flex-wrap mt-1"},t._l(t.recipe_data.tags,(function(e,n){return r("div",{key:n,staticClass:"bg-gray-200 dark:bg-gray-600 py-1 px-2 rounded-md mr-2"},[t._v("\n          "+t._s(e.name)+"\n        ")])})),0)]),t._v(" "),r("div",{staticClass:"md:flex"},[r("div",{staticClass:"py-2 md:flex-shrink md:mr-12 md:max-w-p40"},[r("p",{staticClass:"text-lg font-bold pb-1"},[t._v("Aantal personen")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.people,expression:"people"}],staticClass:"bg-gray-200 dark:bg-gray-600 focus:outline-none p-1 border-b-2 border-red-300 focus:border-red-500 transition duration-300 ease-in-out w-16 mb-2",attrs:{type:"number"},domProps:{value:t.people},on:{input:function(e){e.target.composing||(t.people=e.target.value)}}}),t._v(" "),r("p",{staticClass:"text-lg font-bold"},[t._v("Ingredienten")]),t._v(" "),r("table",{staticClass:"table-auto"},[r("tbody",t._l(t.recipe_data.ingredient,(function(e,n){return r("tr",{key:n},[r("td",{staticClass:"align-top",attrs:{nowrap:"nowrap"}},[e.quantity?r("div",[t._v("\n                  \n                  "+t._s(Math.round(e.quantity*t.people/t.recipe_data.people))+" "+t._s(e.unit)+"\n                ")]):t._e()]),t._v(" "),r("td",{staticClass:"px-4"},[t._v(t._s(e.ingredient))])])})),0)])]),t._v(" "),r("div",{staticClass:"py-2 md:flex-grow"},t._l(t.recipe_data.instruction,(function(e){return r("div",{key:e.step,staticClass:"pb-2 mb-4 w-full border-b-2 border-gray-300"},[r("p",{staticClass:"text-lg font-bold"},[t._v("\n            Stap "+t._s(Number(e.step)+1)+"\n          ")]),t._v(" "),r("p",{staticClass:"text-sm"},[t._v(t._s(e.instruction))])])})),0)])])])}),[],!1,null,null,null);e.default=component.exports}}]);